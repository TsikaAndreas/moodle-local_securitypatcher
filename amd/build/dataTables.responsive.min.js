(function(r){if(typeof define==="function"&&define.amd){define(["jquery","local_codepatcher/jquery.dataTables"],function(e){return r(e,window,document)})}else if(typeof exports==="object"){var n=require("jquery");var i=function(e,t){if(!t.fn.dataTable){require("datatables.net")(e,t)}};if(typeof window==="undefined"){module.exports=function(e,t){if(!e){e=window}if(!t){t=n(e)}i(e,t);return r(t,e,e.document)}}else{i(window,n);module.exports=r(n,window,window.document)}}else{r(jQuery,window,document)}})(function(v,p,o,h){"use strict";var i=v.fn.dataTable;var l=function(e,t){if(!i.versionCheck||!i.versionCheck("1.10.10")){throw"DataTables Responsive requires DataTables 1.10.10 or newer"}this.s={childNodeStore:{},columns:[],current:[],dt:new i.Api(e)};if(this.s.dt.settings()[0].responsive){return}if(t&&typeof t.details==="string"){t.details={type:t.details}}else if(t&&t.details===false){t.details={type:false}}else if(t&&t.details===true){t.details={type:"inline"}}this.c=v.extend(true,{},l.defaults,i.defaults.responsive,t);e.responsive=this;this._constructor()};v.extend(l.prototype,{_constructor:function(){var s=this;var n=this.s.dt;var e=n.settings()[0];var t=v(p).innerWidth();n.settings()[0]._responsive=this;v(p).on("resize.dtr orientationchange.dtr",i.util.throttle(function(){var e=v(p).innerWidth();if(e!==t){s._resize();t=e}}));e.oApi._fnCallbackReg(e,"aoRowCreatedCallback",function(e,t,r){if(v.inArray(false,s.s.current)!==-1){v(">td, >th",e).each(function(e){var t=n.column.index("toData",e);if(s.s.current[t]===false){v(this).css("display","none")}})}});n.on("destroy.dtr",function(){n.off(".dtr");v(n.table().body()).off(".dtr");v(p).off("resize.dtr orientationchange.dtr");n.cells(".dtr-control").nodes().to$().removeClass("dtr-control");v.each(s.s.current,function(e,t){if(t===false){s._setColumnVis(e,true)}})});this.c.breakpoints.sort(function(e,t){return e.width<t.width?1:e.width>t.width?-1:0});this._classLogic();this._resizeAuto();var r=this.c.details;if(r.type!==false){s._detailsInit();n.on("column-visibility.dtr",function(){if(s._timer){clearTimeout(s._timer)}s._timer=setTimeout(function(){s._timer=null;s._classLogic();s._resizeAuto();s._resize(true);s._redrawChildren()},100)});n.on("draw.dtr",function(){s._redrawChildren()});v(n.table().node()).addClass("dtr-"+r.type)}n.on("column-reorder.dtr",function(e,t,r){s._classLogic();s._resizeAuto();s._resize(true)});n.on("column-sizing.dtr",function(){s._resizeAuto();s._resize()});n.on("column-calc.dt",function(e,t){var r=s.s.current;for(var n=0;n<r.length;n++){var i=t.visible.indexOf(n);if(r[n]===false&&i>=0){t.visible.splice(i,1)}}});n.on("preXhr.dtr",function(){var e=[];n.rows().every(function(){if(this.child.isShown()){e.push(this.id(true))}});n.one("draw.dtr",function(){s._resizeAuto();s._resize();n.rows(e).every(function(){s._detailsDisplay(this,false)})})});n.on("draw.dtr",function(){s._controlClass()}).on("init.dtr",function(e,t,r){if(e.namespace!=="dt"){return}s._resizeAuto();s._resize();if(v.inArray(false,s.s.current)){n.columns.adjust()}});this._resize()},_childNodes:function(e,t,r){var n=t+"-"+r;if(this.s.childNodeStore[n]){return this.s.childNodeStore[n]}var i=[];var s=e.cell(t,r).node().childNodes;for(var a=0,o=s.length;a<o;a++){i.push(s[a])}this.s.childNodeStore[n]=i;return i},_childNodesRestore:function(e,t,r){var n=t+"-"+r;if(!this.s.childNodeStore[n]){return}var i=e.cell(t,r).node();var s=this.s.childNodeStore[n];var a=s[0].parentNode;var o=a.childNodes;var l=[];for(var d=0,c=o.length;d<c;d++){l.push(o[d])}for(var u=0,f=l.length;u<f;u++){i.appendChild(l[u])}this.s.childNodeStore[n]=h},_columnsVisiblity:function(r){var n=this.s.dt;var e=this.s.columns;var t,i;var s=e.map(function(e,t){return{columnIdx:t,priority:e.priority}}).sort(function(e,t){if(e.priority!==t.priority){return e.priority-t.priority}return e.columnIdx-t.columnIdx});var a=v.map(e,function(e,t){if(n.column(t).visible()===false){return"not-visible"}return e.auto&&e.minWidth===null?false:e.auto===true?"-":v.inArray(r,e.includeIn)!==-1});var o=0;for(t=0,i=a.length;t<i;t++){if(a[t]===true){o+=e[t].minWidth}}var l=n.settings()[0].oScroll;var d=l.sY||l.sX?l.iBarWidth:0;var c=n.table().container().offsetWidth-d;var u=c-o;for(t=0,i=a.length;t<i;t++){if(e[t].control){u-=e[t].minWidth}}var f=false;for(t=0,i=s.length;t<i;t++){var h=s[t].columnIdx;if(a[h]==="-"&&!e[h].control&&e[h].minWidth){if(f||u-e[h].minWidth<0){f=true;a[h]=false}else{a[h]=true}u-=e[h].minWidth}}var p=false;for(t=0,i=e.length;t<i;t++){if(!e[t].control&&!e[t].never&&a[t]===false){p=true;break}}for(t=0,i=e.length;t<i;t++){if(e[t].control){a[t]=p}if(a[t]==="not-visible"){a[t]=false}}if(v.inArray(true,a)===-1){a[0]=true}return a},_classLogic:function(){var o=this;var e={};var l=this.c.breakpoints;var s=this.s.dt;var d=s.columns().eq(0).map(function(e){var t=this.column(e);var r=t.header().className;var n=s.settings()[0].aoColumns[e].responsivePriority;var i=t.header().getAttribute("data-priority");if(n===h){n=i===h||i===null?1e4:i*1}return{className:r,includeIn:[],auto:false,control:false,never:r.match(/\b(dtr\-)?never\b/)?true:false,priority:n}});var c=function(e,t){var r=d[e].includeIn;if(v.inArray(t,r)===-1){r.push(t)}};var u=function(e,t,r,n){var i,s,a;if(!r){d[e].includeIn.push(t)}else if(r==="max-"){i=o._find(t).width;for(s=0,a=l.length;s<a;s++){if(l[s].width<=i){c(e,l[s].name)}}}else if(r==="min-"){i=o._find(t).width;for(s=0,a=l.length;s<a;s++){if(l[s].width>=i){c(e,l[s].name)}}}else if(r==="not-"){for(s=0,a=l.length;s<a;s++){if(l[s].name.indexOf(n)===-1){c(e,l[s].name)}}}};d.each(function(e,s){var t=e.className.split(" ");var a=false;for(var r=0,n=t.length;r<n;r++){var o=t[r].trim();if(o==="all"||o==="dtr-all"){a=true;e.includeIn=v.map(l,function(e){return e.name});return}else if(o==="none"||o==="dtr-none"||e.never){a=true;return}else if(o==="control"||o==="dtr-control"){a=true;e.control=true;return}v.each(l,function(e,t){var r=t.name.split("-");var n=new RegExp("(min\\-|max\\-|not\\-)?("+r[0]+")(\\-[_a-zA-Z0-9])?");var i=o.match(n);if(i){a=true;if(i[2]===r[0]&&i[3]==="-"+r[1]){u(s,t.name,i[1],i[2]+i[3])}else if(i[2]===r[0]&&!i[3]){u(s,t.name,i[1],i[2])}}})}if(!a){e.auto=true}});this.s.columns=d},_controlClass:function(){if(this.c.details.type==="inline"){var e=this.s.dt;var t=this.s.current;var r=v.inArray(true,t);e.cells(null,function(e){return e!==r},{page:"current"}).nodes().to$().filter(".dtr-control").removeClass("dtr-control");e.cells(null,r,{page:"current"}).nodes().to$().addClass("dtr-control")}},_detailsDisplay:function(t,r){var e=this;var n=this.s.dt;var i=this.c.details;var s=function(e){v(t.node()).toggleClass("parent",e!==false);v(n.table().node()).triggerHandler("responsive-display.dt",[n,t,e,r])};if(i&&i.type!==false){var a=typeof i.renderer==="string"?l.renderer[i.renderer]():i.renderer;var o=i.display(t,r,function(){return a.call(e,n,t[0],e._detailsObj(t[0]))},function(){s(false)});if(typeof o==="boolean"){s(o)}}},_detailsInit:function(){var n=this;var i=this.s.dt;var e=this.c.details;if(e.type==="inline"){e.target="td.dtr-control, th.dtr-control"}i.on("draw.dtr",function(){n._tabIndexes()});n._tabIndexes();v(i.table().body()).on("keyup.dtr","td, th",function(e){if(e.keyCode===13&&v(this).data("dtr-keyboard")){v(this).click()}});var s=e.target;var t=typeof s==="string"?s:"td, th";if(s!==h||s!==null){v(i.table().body()).on("click.dtr mousedown.dtr mouseup.dtr",t,function(e){if(!v(i.table().node()).hasClass("collapsed")){return}if(v.inArray(v(this).closest("tr").get(0),i.rows().nodes().toArray())===-1){return}if(typeof s==="number"){var t=s<0?i.columns().eq(0).length+s:s;if(i.cell(this).index().column!==t){return}}var r=i.row(v(this).closest("tr"));if(e.type==="click"){n._detailsDisplay(r,false)}else if(e.type==="mousedown"){v(this).css("outline","none")}else if(e.type==="mouseup"){v(this).trigger("blur").css("outline","")}})}},_detailsObj:function(n){var i=this;var s=this.s.dt;return v.map(this.s.columns,function(e,t){if(e.never||e.control){return}var r=s.settings()[0].aoColumns[t];return{className:r.sClass,columnIndex:t,data:s.cell(n,t).render(i.c.orthogonal),hidden:s.column(t).visible()&&!i.s.current[t],rowIndex:n,title:r.sTitle!==null?r.sTitle:v(s.column(t).header()).text()}})},_find:function(e){var t=this.c.breakpoints;for(var r=0,n=t.length;r<n;r++){if(t[r].name===e){return t[r]}}},_redrawChildren:function(){var r=this;var n=this.s.dt;n.rows({page:"current"}).iterator("row",function(e,t){r._detailsDisplay(n.row(t),true)})},_resize:function(r){var n=this;var e=this.s.dt;var t=v(p).innerWidth();var i=this.c.breakpoints;var s=i[0].name;var a=this.s.columns;var o,l;var d=this.s.current.slice();for(o=i.length-1;o>=0;o--){if(t<=i[o].width){s=i[o].name;break}}var c=this._columnsVisiblity(s);this.s.current=c;var u=false;for(o=0,l=a.length;o<l;o++){if(c[o]===false&&!a[o].never&&!a[o].control&&!e.column(o).visible()===false){u=true;break}}v(e.table().node()).toggleClass("collapsed",u);var f=false;var h=0;e.columns().eq(0).each(function(e,t){if(c[t]===true){h++}if(r||c[t]!==d[t]){f=true;n._setColumnVis(e,c[t])}});this._redrawChildren();if(f){v(e.table().node()).trigger("responsive-resize.dt",[e,this.s.current]);if(e.page.info().recordsDisplay===0){v("td",e.table().body()).eq(0).attr("colspan",h)}}n._controlClass()},_resizeAuto:function(){var r=this.s.dt;var n=this.s.columns;var i=this;if(!this.c.auto){return}if(v.inArray(true,v.map(n,function(e){return e.auto}))===-1){return}if(!v.isEmptyObject(this.s.childNodeStore)){v.each(this.s.childNodeStore,function(e){var t=e.split("-");i._childNodesRestore(r,t[0]*1,t[1]*1)})}var e=r.table().node().offsetWidth;var t=r.columns;var s=r.table().node().cloneNode(false);var a=v(r.table().header().cloneNode(false)).appendTo(s);var o=v(r.table().body()).clone(false,false).empty().appendTo(s);s.style.width="auto";var l=r.columns().header().filter(function(e){return r.column(e).visible()}).to$().clone(false).css("display","table-cell").css("width","auto").css("min-width",0);v(o).append(v(r.rows({page:"current"}).nodes()).clone(false)).find("th, td").css("display","");var d=r.table().footer();if(d){var c=v(d.cloneNode(false)).appendTo(s);var u=r.columns().footer().filter(function(e){return r.column(e).visible()}).to$().clone(false).css("display","table-cell");v("<tr/>").append(u).appendTo(c)}v("<tr/>").append(l).appendTo(a);if(this.c.details.type==="inline"){v(s).addClass("dtr-inline collapsed")}v(s).find("[name]").removeAttr("name");v(s).css("position","relative");var f=v("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(s);f.insertBefore(r.table().node());l.each(function(e){var t=r.column.index("fromVisible",e);n[t].minWidth=this.offsetWidth||0});f.remove()},_responsiveOnlyHidden:function(){var r=this.s.dt;return v.map(this.s.current,function(e,t){if(r.column(t).visible()===false){return true}return e})},_setColumnVis:function(e,t){var r=this;var n=this.s.dt;var i=t?"":"none";v(n.column(e).header()).css("display",i).toggleClass("dtr-hidden",!t);v(n.column(e).footer()).css("display",i).toggleClass("dtr-hidden",!t);n.column(e).nodes().to$().css("display",i).toggleClass("dtr-hidden",!t);if(!v.isEmptyObject(this.s.childNodeStore)){n.cells(null,e).indexes().each(function(e){r._childNodesRestore(n,e.row,e.column)})}},_tabIndexes:function(){var e=this.s.dt;var t=e.cells({page:"current"}).nodes().to$();var r=e.settings()[0];var n=this.c.details.target;t.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]");if(typeof n==="number"){e.cells(null,n,{page:"current"}).nodes().to$().attr("tabIndex",r.iTabIndex).data("dtr-keyboard",1)}else{if(n==="td:first-child, th:first-child"){n=">td:first-child, >th:first-child"}v(n,e.rows({page:"current"}).nodes()).attr("tabIndex",r.iTabIndex).data("dtr-keyboard",1)}}});l.breakpoints=[{name:"desktop",width:Infinity},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}];l.display={childRow:function(e,t,r){if(t){if(v(e.node()).hasClass("parent")){e.child(r(),"child").show();return true}}else{if(!e.child.isShown()){e.child(r(),"child").show();return true}else{e.child(false);return false}}},childRowImmediate:function(e,t,r){if(!t&&e.child.isShown()||!e.responsive.hasHidden()){e.child(false);return false}else{e.child(r(),"child").show();return true}},modal:function(a){return function(e,t,r,n){if(!t){var i=function(){s.remove();v(o).off("keypress.dtr");v(e.node()).removeClass("parent");n()};var s=v('<div class="dtr-modal"/>').append(v('<div class="dtr-modal-display"/>').append(v('<div class="dtr-modal-content"/>').data("dtr-row-idx",e.index()).append(r())).append(v('<div class="dtr-modal-close">&times;</div>').click(function(){i()}))).append(v('<div class="dtr-modal-background"/>').click(function(){i()})).appendTo("body");v(e.node()).addClass("parent");v(o).on("keyup.dtr",function(e){if(e.keyCode===27){e.stopPropagation();i()}})}else{var s=v("div.dtr-modal-content");if(s.length&&e.index()===s.data("dtr-row-idx")){s.empty().append(r())}else{return null}}if(a&&a.header){v("div.dtr-modal-content").prepend("<h2>"+a.header(e)+"</h2>")}return true}}};l.renderer={listHiddenNodes:function(){return function(n,e,t){var i=this;var s=v('<ul data-dtr-index="'+e+'" class="dtr-details"/>');var a=false;var r=v.each(t,function(e,t){if(t.hidden){var r=t.className?'class="'+t.className+'"':"";v("<li "+r+' data-dtr-index="'+t.columnIndex+'" data-dt-row="'+t.rowIndex+'" data-dt-column="'+t.columnIndex+'">'+'<span class="dtr-title">'+t.title+"</span> "+"</li>").append(v('<span class="dtr-data"/>').append(i._childNodes(n,t.rowIndex,t.columnIndex))).appendTo(s);a=true}});return a?s:false}},listHidden:function(){return function(e,t,r){var n=v.map(r,function(e){var t=e.className?'class="'+e.className+'"':"";return e.hidden?"<li "+t+' data-dtr-index="'+e.columnIndex+'" data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'">'+'<span class="dtr-title">'+e.title+"</span> "+'<span class="dtr-data">'+e.data+"</span>"+"</li>":""}).join("");return n?v('<ul data-dtr-index="'+t+'" class="dtr-details"/>').append(n):false}},tableAll:function(i){i=v.extend({tableClass:""},i);return function(e,t,r){var n=v.map(r,function(e){var t=e.className?'class="'+e.className+'"':"";return"<tr "+t+' data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'">'+"<td>"+e.title+":"+"</td> "+"<td>"+e.data+"</td>"+"</tr>"}).join("");return v('<table class="'+i.tableClass+' dtr-details" width="100%"/>').append(n)}}};l.defaults={breakpoints:l.breakpoints,auto:true,details:{display:l.display.childRow,renderer:l.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var e=v.fn.dataTable.Api;e.register("responsive()",function(){return this});e.register("responsive.index()",function(e){e=v(e);return{column:e.data("dtr-index"),row:e.parent().data("dtr-index")}});e.register("responsive.rebuild()",function(){return this.iterator("table",function(e){if(e._responsive){e._responsive._classLogic()}})});e.register("responsive.recalc()",function(){return this.iterator("table",function(e){if(e._responsive){e._responsive._resizeAuto();e._responsive._resize()}})});e.register("responsive.hasHidden()",function(){var e=this.context[0];return e._responsive?v.inArray(false,e._responsive._responsiveOnlyHidden())!==-1:false});e.registerPlural("columns().responsiveHidden()","column().responsiveHidden()",function(){return this.iterator("column",function(e,t){return e._responsive?e._responsive._responsiveOnlyHidden()[t]:false},1)});l.version="2.5.0";v.fn.dataTable.Responsive=l;v.fn.DataTable.Responsive=l;v(o).on("preInit.dt.dtr",function(e,t,r){if(e.namespace!=="dt"){return}if(v(t.nTable).hasClass("responsive")||v(t.nTable).hasClass("dt-responsive")||t.oInit.responsive||i.defaults.responsive){var n=t.oInit.responsive;if(n!==false){new l(t,v.isPlainObject(n)?n:{})}}});return i});